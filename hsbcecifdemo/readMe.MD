# 工程脚手架结构说明


------------------------------------------------------------------------------------------------------------------------
脚手架生成的包结构如下图所示。请根据不同项目实际情况，酌情定制化。
```
|--- api
|      |--- service                              -- 微服务北向接口(api)层
|      		|--- request                         -- 微服务北向接口(api)入参模型定义
|      		|--- response                        -- 微服务北向接口(api)出参模型定义
|      		|--- model                           -- 微服务北向接口(api)出入参使用的模型定义
|--- application                                 -- 应用服务定义层，编排领域服务
|      |--- service                              -- 应用服务定义层接口
|      		|--- input                           -- 应用服务定义层入参模型定义
|      		|--- output                          -- 应用服务定义层出参模型定义
|      		|--- model                           -- 应用服务定义层出入参使用的模型定义
|--- domain                                      -- 领域服务层
|      |--- aggregate                            -- 聚合
|              |--- entity                       -- 实体
|                       |--- policy              -- 聚合实体行为
|              |--- valueobject                  -- 值对象
|      |--- service                       		 -- 领域服务定义
|              |--- input                        -- 符合引擎规范的领域服务入参模型定义
|              |--- output                       -- 符合引擎规范的领域服务出参模型定义
|              |--- model                        -- 符合引擎规范的领域服务出入参使用的模型定义
|      |--- repository                           -- 领域仓储定义，暂时为空，需要手动编程添加定义，后续考虑支持设计功能
|--- implementation                              -- 逻辑实现层，所有逻辑编码实现
|      |--- api                                  -- 北向接口(api)层实现，比如Controller，PRC Impl，Message Handler
|      |--- application                          -- 应用服务层实现。主要职责：1.负责接口层和领域层的模型转换；2.负责调用流程引擎执行流程
|      |--- domain                               -- 领域服务层实现，包含领域服务实现和实体行为实现
|      |--- schedule                             -- 定时任务
|      |--- resources                            -- 非JAVA资源文件
|              |--- flow                         -- 流程定义json文件
|--- infrastructure                              -- 基础设施层，应用框架、适配器、驱动、配置、通用工具等技术实现
|      |--- adapter                              -- 南向接口适配器，防腐层实现，其他调用者调用其中接口而非实现
|              |--- api                          -- 本系统调用外部接口的适配器，可以有不同技术选型的实现，如http/rpc/socket等
|              |--- event                        -- 生成并发送/发布消息/事件，可以有不同中间件的实现，如rabbitmq/kafka/rocketmq等
|              |--- repository                   -- 持久层接口实现，实现可自行细分如DB，缓存，文件等
|                   |--- db                      -- 持久层接口数据库层实现
|                        |--- mapper             -- 数据库mapper类
|                        |--- po                 -- 数据库表PO类
|      |--- enums                                -- 各种枚举类，目前只有错误码
|      |--- resources                            -- 非JAVA资源文件
|              |--- mybatis                      -- mybatis配置以及mapper文件
```
说明：
- api, application, domain是设计定义包，不要手动修改，可以重新导出全量替换
- implementation, infrastructure是逻辑/技术实现包，手动写入逻辑

---------------------------------------------------------------------------------

## 模块说明

ecif-api：接口层包，包括接口定义和接口参数模型

ecif-application：应用层包，目前只生成空包结构，需手动添加代码。理论上应包含应用层服务和接口-领域模型转换模块

ecif-infrastructure：基础设施层包，目前只有错误码。理论上应包含各种南北向网关适配器和工具类

ecif-domain：领域层包，包括领域服务接口和领域建模

ecif-implementation：过渡版本的逻辑实现包，接口和逻辑实现目前都统一放在这里